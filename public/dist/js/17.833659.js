(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{29:function(t,a,e){"use strict";e.r(a);var r=e(0),n=e.n(r),o=e(2),c=e.n(o),s=e(1),i=e.n(s),u=e(6),l=e.n(u);e(11);function d(t,a,e,r,n,o,c){try{var s=t[o](c),i=s.value}catch(t){return void e(t)}s.done?a(i):Promise.resolve(i).then(r,n)}function v(t){return function(){var a=this,e=arguments;return new Promise((function(r,n){var o=t.apply(a,e);function c(t){d(o,r,n,c,s,"next",t)}function s(t){d(o,r,n,c,s,"throw",t)}c(void 0)}))}}var f={components:{vueDropzone:l.a},data:function(){return{overlay:!1,data:[],page:1,hover:!1,list_category:[],category:"",search:"",active:!1,showCart:!1,dialog_cart:!1,form_cart:{name:"",description:"",product_id:"",quantity:0,category:"",picture:"",amount:"",id:""},form_cart_delete:{id:""},cart:[],count:"0"}},mounted:function(){this.getCategory(),this.getData(),this.getCart()},methods:{getData:function(){var t=this;return v(n.a.mark((function a(){return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.progressBar=!0,a.next=3,c.a.get("/api/vet/products/list",{params:{page:t.page,search:t.search,category:t.category}}).then((function(a){console.log(a.data),t.data=a.data.data}));case 3:t.progressBar=!1;case 4:case"end":return a.stop()}}),a)})))()},getCart:function(){var t=this;return v(n.a.mark((function a(){return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.get("/api/vet/shop/cart/list").then((function(a){t.cart=a.data}));case 2:case"end":return a.stop()}}),a)})))()},getCategory:function(){var t=this;return v(n.a.mark((function a(){return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.get("/api/vet/products/category").then((function(a){t.list_category=a.data,t.list_category.unshift({category:"All"})}));case 2:case"end":return a.stop()}}),a)})))()},itemChange:function(t,a){var e=this;return v(n.a.mark((function r(){return n.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return"-"==a?(e.overlay=!0,t.quantity>1?t.quantity--:e.deleteCart(t)):"+"==a&&(e.overlay=!0,t.quantity++),t.type=a,r.next=4,c.a.post("/api/vet/shop/cart/change",t).then((function(t){e.getCart(),e.overlay=!1}));case 4:case"end":return r.stop()}}),r)})))()},deleteCart:function(t){var a=this;return v(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.fire({title:"Do you want to delete "+t.name+" from your cart?",icon:"question",showCancelButton:!0,confirmButtonColor:"#00794b",cancelButtonColor:"#CC0022",confirmButtonText:"Yes",cancelButtonText:"No",showLoaderOnConfirm:!0,preConfirm:function(){var a=v(n.a.mark((function a(){var e,r;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.post("/api/vet/shop/cart/delete",t);case 2:return e=a.sent,r=e.data,a.abrupt("return",r);case 5:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),allowOutsideClick:function(){return!i.a.isLoading()}}).then((function(e){a.dialog_cart=!1,a.getCart(),e.value&&i.a.fire({icon:"success",title:"The "+t.name+"  has been successfully deleted",html:""})}));case 2:case"end":return e.stop()}}),e)})))()},checkOut:function(t){var a=this;return v(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.fire({title:"Do you want to check out your cart?",icon:"question",showCancelButton:!0,confirmButtonColor:"#00794b",cancelButtonColor:"#CC0022",confirmButtonText:"Yes",cancelButtonText:"No",showLoaderOnConfirm:!0,preConfirm:function(){var a=v(n.a.mark((function a(){var e,r;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.post("/api/vet/shop/cart/checkout",t);case 2:return e=a.sent,r=e.data,a.abrupt("return",r);case 5:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),allowOutsideClick:function(){return!i.a.isLoading()}}).then((function(t){a.getCart(),t.value&&i.a.fire({icon:"success",title:"The check out has been proccessed",html:""})}));case 2:case"end":return e.stop()}}),e)})))()},addcart:function(t){this.form_cart.name=t.name,this.form_cart.description=t.description,this.form_cart.category=t.category,this.form_cart.amount=t.amount,this.form_cart.picture=t.picture,this.form_cart.product_id=t.id,this.dialog_cart=!0},addtocart:function(){var t=this;return v(n.a.mark((function a(){return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!t.$refs.addcartform.validate()){a.next=7;break}if(!(t.form_cart.quantity<1)){a.next=4;break}return i.a.fire({icon:"warning",title:"Please Input quantity.",html:""}),a.abrupt("return");case 4:return t.form_cart.quantity=parseInt(t.form_cart.quantity),a.next=7,i.a.fire({title:"Do you want to add "+t.form_cart.name+" to your cart?",icon:"question",showCancelButton:!0,confirmButtonColor:"#00794b",cancelButtonColor:"#CC0022",confirmButtonText:"Yes",cancelButtonText:"No",showLoaderOnConfirm:!0,preConfirm:function(){var a=v(n.a.mark((function a(){var e,r;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.post("/api/vet/shop/cart/save",t.form_cart);case 2:return e=a.sent,r=e.data,a.abrupt("return",r);case 5:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),allowOutsideClick:function(){return!i.a.isLoading()}}).then((function(a){a.value&&(t.getCart(),i.a.fire({icon:"success",title:"The item has been successfully added to your cart",html:""}),t.dialog_cart=!1,t.form_cart.quantity=0)}));case 7:case"end":return a.stop()}}),a)})))()},removeAll:function(){var t=this;return v(n.a.mark((function a(){return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,i.a.fire({title:"Do you want to remove all items from your cart?",icon:"question",showCancelButton:!0,confirmButtonColor:"#00794b",cancelButtonColor:"#CC0022",confirmButtonText:"Yes",cancelButtonText:"No",showLoaderOnConfirm:!0,preConfirm:function(){var t=v(n.a.mark((function t(){var a,e;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.post("/api/vet/shop/cart/remove");case 2:return a=t.sent,e=a.data,t.abrupt("return",e);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),allowOutsideClick:function(){return!i.a.isLoading()}}).then((function(a){t.getCart(),a.value&&i.a.fire({icon:"success",title:"The items has been successfully removed",html:""})}));case 2:case"end":return a.stop()}}),a)})))()},store:function(){var t=this;return v(n.a.mark((function a(){return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!t.$refs.subForm.validate()){a.next=3;break}return a.next=3,i.a.fire({title:"Do you want to "+(-1==t.editedIndex?"save":"update")+"   pet informations?",icon:"question",showCancelButton:!0,confirmButtonColor:"#00794b",cancelButtonColor:"#CC0022",confirmButtonText:"Yes",cancelButtonText:"No",showLoaderOnConfirm:!0,preConfirm:function(){var a=v(n.a.mark((function a(){var e,r;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.post("/api/vet/animals/save",t.form);case 2:return e=a.sent,r=e.data,a.abrupt("return",r);case 5:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),allowOutsideClick:function(){return!i.a.isLoading()}}).then((function(a){console.log(a),a.value&&(t.getData(),t.sub_close(),i.a.fire({icon:"success",title:"The subject has been successfully "+(t.editedIndex>-1?"updated":"saved"),html:""}),t.sub_dialog=!1)}));case 3:case"end":return a.stop()}}),a)})))()}},computed:{formTitle:function(){return-1===this.editedIndex?"Add new ":"Update "}},watch:{page:function(t){this.page=t,this.getData()},data:function(){this.progressBar=!1},sub_dialog:function(t){t||this.sub_close()}}},p=e(4),m=Object(p.a)(f,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("v-container",[e("v-card-text",[e("v-row",[e("v-col",{staticClass:"text-white"},[e("h2",[t._v("Supplies")])])],1),t._v(" "),e("hr",{staticClass:"m-2 white"}),t._v(" "),e("v-card",{attrs:{height:"60"}},[e("v-card-actions",[e("v-select",{attrs:{dense:"",small:"","hide-details":"",items:t.list_category,"item-text":"category","item-value":"category"},on:{change:function(a){t.getData(),t.page=1}},model:{value:t.category,callback:function(a){t.category=a},expression:"category"}},[e("template",{slot:"label"},[t._v(" Category ")])],2),t._v(" "),e("v-spacer"),t._v(" "),e("v-col",{staticClass:"py-0 pl-0",attrs:{xl:"6",lg:"6",cols:"12"}},[e("v-text-field",{attrs:{small:"",outlined:"",dense:"","hide-details":"",label:"Search (Name)"},on:{keyup:function(a){t.getData(),t.page=1}},model:{value:t.search,callback:function(a){t.search=a},expression:"search"}})],1),t._v(" "),t.cart.count>0?e("v-btn",{staticClass:"ma-2",attrs:{rounded:"",color:"blue"},on:{click:function(a){t.showCart=!0}}},[e("v-badge",{attrs:{color:"red",content:t.cart.count}},[e("v-icon",{attrs:{color:"white"}},[t._v("mdi-cart")])],1)],1):e("v-btn",{staticClass:"ma-2",attrs:{rounded:""},on:{click:function(a){t.showCart=!0}}},[e("v-icon",{attrs:{color:"white"}},[t._v("mdi-cart")])],1),t._v(" "),e("v-dialog",{staticClass:"ml-auto",attrs:{transition:"dialog-bottom-transition",width:"500"},model:{value:t.showCart,callback:function(a){t.showCart=a},expression:"showCart"}},[e("v-card",{staticStyle:{"background-color":"#dadcdc"},attrs:{id:"dialog"}},[e("v-toolbar",{attrs:{color:"primary",dark:""}},[t._v("\n                Add to cart\n                "),e("v-spacer"),t._v(" "),e("v-icon",{staticClass:"float-right",attrs:{text:""},on:{click:function(a){t.showCart=!1}}},[t._v("mdi-close\n                ")])],1),t._v(" "),e("v-overlay",{staticStyle:{"z-index":"999999999999"},attrs:{value:t.overlay}},[e("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1),t._v(" "),e("v-list",{staticClass:"p-4",attrs:{color:"#cdf2f7"}},[e("h5",[e("b",[t._v("My Cart")])]),t._v(" "),t.cart.amount?e("small",[t._v("\n                  No of Items: "+t._s(t.cart.count)),e("br"),t._v("\n                  Total Amount:\n                  "+t._s(t.cart.amount.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))+"\n                ")]):t._e(),t._v(" "),e("div",{staticStyle:{"background-color":"#9fb9bd",height:"350px","overflow-y":"auto"}},t._l(t.cart.data,(function(a,r){return e("v-list-item",{key:r,staticClass:"px-1"},[e("v-avatar",{staticClass:"text-white",attrs:{color:"warning",size:"16"}},[t._v("\n                      "+t._s(r+1))]),t._v(" "),e("v-list-item-title",[e("v-card",{staticClass:"m-1 p-1",attrs:{height:"90"}},[e("v-row",[e("v-col",{attrs:{cols:"5"}},[e("v-img",{attrs:{src:"/storage/files/vet/products/"+a.picture}})],1),t._v(" "),e("v-col",{attrs:{cols:"7"}},[e("tr",[e("td",{staticStyle:{width:"100%"}},[e("small",[e("b",[t._v(t._s(a.name)+" ")]),e("br"),t._v("\n                                  PHP\n                                  "+t._s(a.amount.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))+"\n                                  "),e("br"),t._v(" "),e("v-card-actions",{staticClass:"p-0 m-0"},[t._v("\n                                    Quantity:\n                                    "),e("v-text-field",{staticStyle:{width:"110px"},attrs:{"hide-details":"",dense:"",outlined:""},on:{keyup:function(e){return t.itemChange(a)}},model:{value:a.quantity,callback:function(e){t.$set(a,"quantity",e)},expression:"item.quantity"}},[e("v-icon",{attrs:{slot:"append",color:"red"},on:{click:function(e){return t.itemChange(a,"+")}},slot:"append"},[t._v("\n                                        mdi-plus\n                                      ")]),t._v(" "),e("v-icon",{attrs:{slot:"append",color:"green"},on:{click:function(e){return t.itemChange(a,"-")}},slot:"append"},[t._v("\n                                        mdi-minus\n                                      ")]),t._v(" "),e("v-icon",[t._v("mdi-minus")])],1)],1)],1)])])])],1)],1)],1),t._v(" "),e("v-icon",{staticClass:"pull-right",attrs:{color:"danger"},on:{click:function(e){return t.deleteCart(a)}}},[t._v("mdi-delete")])],1)})),1),t._v(" "),e("v-card-actions",[e("v-btn",{attrs:{"x-small":"",color:"dark"},on:{click:t.removeAll}},[t._v("Remove all")]),t._v(" "),e("v-spacer"),t._v(" "),e("v-btn",{attrs:{color:"success"},on:{click:t.checkOut}},[t._v("Check out")])],1)],1)],1)],1)],1)],1),t._v(" "),e("v-card-actions",[e("v-spacer"),t._v(" "),e("v-pagination",{attrs:{"total-visible":8,length:t.data.last_page,color:"red darken-2"},model:{value:t.page,callback:function(a){t.page=a},expression:"page"}})],1),t._v(" "),e("v-row",t._l(t.data.data,(function(a,r){return e("v-col",{key:r,attrs:{cols:"12",sm:"3"}},[e("v-card",{on:{click:function(e){return t.addcart(a)}}},[e("v-row",{attrs:{"no-gutters":""}},[e("v-col",{attrs:{cols:"12"}},[e("v-img",{attrs:{src:"/storage/files/vet/products/"+a.picture,height:"270px"}},[e("span",{staticClass:"text-h5 white--text pl-4 pt-4 d-inline-block"})]),t._v(" "),e("h6",[e("p",{staticClass:"header text-dark p-2"},[t._v(t._s(a.name))])]),t._v(" "),e("hr",{staticClass:"m-1"})],1)],1),t._v(" "),e("v-card-actions",{staticClass:"white"},[e("v-spacer"),t._v("\n                PHP\n                "+t._s(a.amount.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))+"\n              ")],1)],1)],1)})),1)],1)],1),t._v(" "),e("v-dialog",{attrs:{width:"600"},model:{value:t.dialog_cart,callback:function(a){t.dialog_cart=a},expression:"dialog_cart"}},[e("v-card",{staticStyle:{"background-color":"#dadcdc"},attrs:{id:"dialog"}},[e("v-toolbar",{attrs:{color:"primary",dark:""}},[t._v("\n          Add to cart\n          "),e("v-spacer"),t._v(" "),e("v-icon",{staticClass:"float-right",attrs:{text:""},on:{click:function(a){t.dialog_cart=!1}}},[t._v("mdi-close\n          ")])],1),t._v(" "),e("v-card-text",{staticClass:"pt-2",staticStyle:{"overflow-y":"auto","background-color":"#dadcdc"}},[e("v-form",{ref:"addcartform"},[e("v-card",{staticClass:"p-4",attrs:{flat:""}},[e("v-row",[e("v-col",{attrs:{cols:"12",sm:"6"}},[e("v-img",{attrs:{height:"270px",src:"/storage/files/vet/products/"+t.form_cart.picture}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",sm:"6"}},[e("strong",[t._v(t._s(t.form_cart.name))]),e("br"),t._v(" "),e("small",[t._v(t._s(t.form_cart.description))]),t._v(" "),e("hr"),t._v(" "),e("v-row",[e("v-col",{attrs:{cols:"12"}},[t._v("Category: "+t._s(t.form_cart.category))]),t._v(" "),e("v-col",{attrs:{cols:"12"}},[t._v("Amount:\n                      "+t._s(t.form_cart.amount.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))+"\n                      "),e("v-text-field",{staticClass:"d-none",model:{value:t.form_cart.amount,callback:function(a){t.$set(t.form_cart,"amount",a)},expression:"form_cart.amount"}})],1),t._v(" "),e("v-col",{attrs:{cols:"6"}},[t._v("Quantity:\n                      "),e("v-text-field",{model:{value:t.form_cart.quantity,callback:function(a){t.$set(t.form_cart,"quantity",a)},expression:"form_cart.quantity"}},[e("v-icon",{attrs:{slot:"append",color:"red"},on:{click:function(a){t.form_cart.quantity=t.form_cart.quantity+1}},slot:"append"},[t._v("\n                          mdi-plus\n                        ")]),t._v(" "),e("v-icon",{attrs:{slot:"prepend",color:"green"},on:{click:function(a){t.form_cart.quantity=t.form_cart.quantity-1}},slot:"prepend"},[t._v("\n                          mdi-minus\n                        ")])],1)],1)],1),t._v(" "),e("v-card-actions",{staticClass:"white"},[e("v-spacer"),t._v(" "),e("v-btn",{attrs:{block:"",depressed:"",color:"warning",small:""},on:{click:function(a){return t.addtocart()}}},[t._v("\n                      Add to cart\n                    ")])],1)],1)],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);a.default=m.exports}}]);