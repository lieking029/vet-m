(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{205:function(t,e,r){var a=r(245);"string"==typeof a&&(a=[[t.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r(9)(a,o);a.locals&&(t.exports=a.locals)},244:function(t,e,r){"use strict";r(205)},245:function(t,e,r){(t.exports=r(8)(!1)).push([t.i,".dropzonexx{position:absolute;top:260px;margin:0!important;padding:0!important;height:40px;width:101%;left:-2px;min-height:0!important}",""])},37:function(t,e,r){"use strict";r.r(e);var a=r(0),o=r.n(a),n=r(2),s=r.n(n),i=r(1),c=r.n(i),l=r(6),d=r.n(l);r(11);function u(t,e,r,a,o,n,s){try{var i=t[n](s),c=i.value}catch(t){return void r(t)}i.done?e(c):Promise.resolve(c).then(a,o)}function p(t){return function(){var e=this,r=arguments;return new Promise((function(a,o){var n=t.apply(e,r);function s(t){u(n,a,o,s,i,"next",t)}function i(t){u(n,a,o,s,i,"throw",t)}s(void 0)}))}}var v={components:{vueDropzone:d.a},data:function(){return{page:1,search:"",editedIndex:-1,formRules:[function(t){return!!t||"This is required"}],dialog:!1,dialogDelete:!1,progressBar:!0,deleteid:"",data:[],headers:[{class:"border",text:"Product name",value:"name"},{class:"border",text:"Product description",value:"description"},{class:"border",text:"Product price",value:"amount"},{class:"border",text:"Action",value:"id",sortable:!1}],form:{picture:"",name:"",description:"",category:"",amount:"",remarks:"",id:""},dropzoneOptionsPicture:{url:"/api/vet/products/picture",maxFilesize:25,uploadMultiple:!0,thumbnailWidth:400,addRemoveLinks:!0,headers:{"My-Awesome-Header":"header value"},dictDefaultMessage:"<div style='border: dashed 1px orange;   margin-top: -25px; padding: 5px; font-size: 15px;'> <span style='font-size: 25px; padding-left: 20px; color: blue;' class='mdi mdi-camera'></span> Upload </div> "}}},mounted:function(){this.getData()},methods:{uploadSuccessPicture:function(t,e){this.form.picture=e},uploadQueCompletePicture:function(t){this.$refs.myVueDropzonex.removeAllFiles(t)},uploadErrorPicture:function(t,e){this.$refs.myVueDropzonex.removeAllFiles(t),c.a.fire({type:"warning",title:"Uploading Failed.",html:e})},getData:function(){var t=this;return p(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.progressBar=!0,e.next=3,s.a.get("/api/vet/products/list",{params:{page:t.page,search:t.search}}).then((function(e){console.log(e.data),t.data=e.data.data,t.progressBar=!1}));case 3:case"end":return e.stop()}}),e)})))()},store:function(){var t=this;return p(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.$refs.mainForm.validate()){e.next=3;break}return e.next=3,c.a.fire({title:"Do you want to "+(t.editedIndex>-1?"save":"update")+" this product?",icon:"question",showCancelButton:!0,confirmButtonColor:"#00794b",cancelButtonColor:"#CC0022",confirmButtonText:"Yes",cancelButtonText:"No",showLoaderOnConfirm:!0,preConfirm:function(){var e=p(o.a.mark((function e(){var r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.post("/api/vet/products/save",t.form);case 2:return r=e.sent,a=r.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),allowOutsideClick:function(){return!c.a.isLoading()}}).then((function(e){e.value&&(t.getData(),t.close(),c.a.fire({icon:"success",title:"The product has been successfully "+(t.editedIndex>-1?"updated":"saved"),html:""}))}));case 3:case"end":return e.stop()}}),e)})))()},editItem:function(t){for(var e in this.editedIndex=this.data.data.indexOf(t),t)this.form[e]=t[e];this.dialog=!0},close:function(){for(var t in this.dialog=!1,this.form)this.form[t]="";this.editedIndex=-1}},computed:{formTitle:function(){return-1===this.editedIndex?"Add new ":"Update "}},watch:{page:function(t){this.page=t,this.getData()},data:function(){this.progressBar=!1},dialog:function(t){t||this.close()},menu:function(t){var e=this;t&&setTimeout((function(){return e.$refs.picker.activePicker="YEAR"}))}}},m=(r(244),r(4)),f=Object(m.a)(v,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-form",{ref:"mainForm",attrs:{id:"mainForm"}},[r("v-dialog",{attrs:{"max-width":"800px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-card",{staticStyle:{"background-color":"#dadcdc"},attrs:{id:"dialog"}},[r("v-toolbar",{attrs:{color:"primary",dark:""}},[t._v("\n          Product\n          "),r("v-spacer"),t._v(" "),r("v-icon",{staticClass:"float-right",attrs:{text:""},on:{click:function(e){t.dialog=!1}}},[t._v("mdi-close\n          ")])],1),t._v(" "),r("br"),t._v(" "),r("v-card-text",{staticStyle:{"background-color":"#dadcdc"}},[r("v-card",{staticClass:"p-2"},[r("v-container",[r("v-row",[r("v-col",{staticClass:"py-1",attrs:{cols:"12",md:"5"}},[r("v-card",{staticClass:"p-2 m-2",attrs:{width:"250",height:"250"}},[r("v-img",{attrs:{width:"230",contain:"",height:"230",src:t.form.picture?"/storage/files/vet/products/"+t.form.picture:"/img/settings/a1.jpg"}}),t._v(" "),r("v-card-actions",[r("vue-dropzone",{ref:"myVueDropzonex",staticClass:"dropzonexx",attrs:{id:"training_fileuploadx",options:t.dropzoneOptionsPicture},on:{"vdropzone-success-multiple":t.uploadSuccessPicture,"vdropzone-queue-complete":t.uploadQueCompletePicture,"vdropzone-error":t.uploadErrorPicture}})],1),t._v(" "),r("br")],1)],1),t._v(" "),r("v-col",{attrs:{cols:"12",md:"7"}},[r("v-row",[r("v-col",{staticClass:"py-1",attrs:{cols:"12"}},[r("v-text-field",{attrs:{rules:t.formRules,outlined:"",dense:"","hide-details":"",label:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},[r("template",{slot:"label"},[r("div",{staticStyle:{"font-size":"14px",color:"red"}},[t._v("\n                            Product Name *\n                          ")])])],2)],1),t._v(" "),r("v-col",{staticClass:"py-1",attrs:{cols:"12"}},[r("v-textarea",{attrs:{outlined:"",dense:"",rows:"6","hide-details":"",label:""},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}},[r("template",{slot:"label"},[r("div",{staticStyle:{"font-size":"14px"}},[t._v("\n                            Product Description\n                          ")])])],2)],1),t._v(" "),r("v-col",{staticClass:"py-1",attrs:{cols:"12"}},[r("v-text-field",{attrs:{outlined:"",dense:"","hide-details":"",label:""},model:{value:t.form.amount,callback:function(e){t.$set(t.form,"amount",e)},expression:"form.amount"}},[r("template",{slot:"label"},[r("div",{staticStyle:{"font-size":"14px"}},[t._v("Product Price")])])],2)],1),t._v(" "),r("v-col",{staticClass:"py-1",attrs:{cols:"12"}},[r("v-text-field",{attrs:{outlined:"",dense:"","hide-details":"",label:""},model:{value:t.form.remarks,callback:function(e){t.$set(t.form,"remarks",e)},expression:"form.remarks"}},[r("template",{slot:"label"},[r("div",{staticStyle:{"font-size":"14px"}},[t._v("Remarks")])])],2)],1)],1)],1)],1),t._v(" "),r("v-row",[r("v-col",[r("v-card-actions",[r("v-spacer"),t._v(" "),r("v-btn",{staticStyle:{"text-transform":"none"},attrs:{color:"#00794b",depressed:"",dark:""},on:{click:t.store}},[t._v("\n                      Save\n                    ")])],1)],1)],1)],1)],1)],1)],1)],1)],1),t._v(" "),r("v-data-table",{attrs:{id:"table",dense:"",height:"330","hide-default-footer":"","items-per-page":10,loading:t.progressBar,headers:t.headers,items:t.data.data},scopedSlots:t._u([{key:"top",fn:function(){return[r("v-card-actions",[r("v-btn",{staticStyle:{"text-transform":"none"},attrs:{color:"#00794b",depressed:"",dark:"",small:""},on:{click:function(e){t.dialog=!0}}},[t._v("\n          Add New\n        ")]),t._v(" "),r("v-spacer"),t._v(" "),r("v-text-field",{attrs:{small:"",outlined:"",dense:"","hide-details":"",label:"Search"},on:{keyup:t.getData},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),r("v-btn",{staticStyle:{"text-transform":"none"},attrs:{color:"orange",depressed:"",small:"",text:"",dark:""},on:{click:t.getData}},[r("v-icon",[t._v("mdi-refresh")])],1)],1)]},proxy:!0},{key:"item.id",fn:function(e){var a=e.item;return[r("v-btn",{staticClass:"px-1 btn btn-primary text-white",attrs:{text:"",small:""},on:{click:function(e){return t.editItem(a)}}},[r("small",[r("v-icon",{attrs:{size:"15"}},[t._v(" mdi-pencil ")]),t._v(" Edit ")],1)])]}}],null,!0)},[t._v(" "),r("v-progress-linear",{directives:[{name:"show",rawName:"v-show",value:t.progressBar,expression:"progressBar"}],attrs:{slot:"progress",color:"green",indeterminate:""},slot:"progress"})],1),t._v(" "),r("div",{staticClass:"pbutton text-center pt-7"},[r("v-pagination",{attrs:{"total-visible":10,length:t.data.last_page,color:"red darken-2"},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)],1)}),[],!1,null,null,null);e.default=f.exports}}]);