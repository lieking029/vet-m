(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{204:function(e,t,a){var r=a(243);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};a(9)(r,o);r.locals&&(e.exports=r.locals)},242:function(e,t,a){"use strict";a(204)},243:function(e,t,a){(e.exports=a(8)(!1)).push([e.i,".dropzonexx{position:absolute;top:260px;margin:0!important;padding:0!important;height:40px;width:101%;left:-2px;min-height:0!important}",""])},36:function(e,t,a){"use strict";a.r(t);var r=a(0),o=a.n(r),n=a(2),i=a.n(n),s=a(1),l=a.n(s),c=a(6),d=a.n(c);a(11);function u(e,t,a,r,o,n,i){try{var s=e[n](i),l=s.value}catch(e){return void a(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function p(e){return function(){var t=this,a=arguments;return new Promise((function(r,o){var n=e.apply(t,a);function i(e){u(n,r,o,i,s,"next",e)}function s(e){u(n,r,o,i,s,"throw",e)}i(void 0)}))}}var v={components:{vueDropzone:d.a},data:function(){return{page:1,search:"",editedIndex:-1,formRules:[function(e){return!!e||"This is required"}],dialog:!1,progressBar:!0,data:[],headers:[{class:"border",text:"Service name",value:"name"},{class:"border",text:"Service Fee / Amount",value:"amount"},{class:"border",text:"Action",value:"id",sortable:!1}],form:{picture:"",name:"",description:"",amount:"",handled_by:"",id:""},dropzoneOptionsPicture:{url:"/api/vet/services/picture",maxFilesize:25,uploadMultiple:!0,thumbnailWidth:400,addRemoveLinks:!0,headers:{"My-Awesome-Header":"header value"},dictDefaultMessage:"<div style='border: dashed 1px orange;   margin-top: -25px; padding: 5px; font-size: 15px;'> <span style='font-size: 25px; padding-left: 20px; color: blue;' class='mdi mdi-camera'></span> Upload </div> "}}},mounted:function(){this.getData()},methods:{uploadSuccessPicture:function(e,t){this.form.picture=t},uploadQueCompletePicture:function(e){this.$refs.myVueDropzonex.removeAllFiles(e)},uploadErrorPicture:function(e,t){this.$refs.myVueDropzonex.removeAllFiles(e),l.a.fire({type:"warning",title:"Uploading Failed.",html:t})},getData:function(){var e=this;return p(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.progressBar=!0,t.next=3,i.a.get("/api/vet/services/list",{params:{page:e.page,search:e.search}}).then((function(t){e.data=t.data.data,e.progressBar=!1}));case 3:case"end":return t.stop()}}),t)})))()},store:function(){var e=this;return p(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.$refs.mainForm.validate()){t.next=3;break}return t.next=3,l.a.fire({title:"Do you want to "+(e.editedIndex>-1?"save":"update")+" this service?",icon:"question",showCancelButton:!0,confirmButtonColor:"#00794b",cancelButtonColor:"#CC0022",confirmButtonText:"Yes",cancelButtonText:"No",showLoaderOnConfirm:!0,preConfirm:function(){var t=p(o.a.mark((function t(){var a,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.post("/api/vet/services/save",e.form);case 2:return a=t.sent,r=a.data,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),allowOutsideClick:function(){return!l.a.isLoading()}}).then((function(t){console.log(t.value),t.value&&(e.editedIndex>-1?Object.assign(e.data.data[e.editedIndex],t.value):e.data.data.push(t.value),e.close(),l.a.fire({icon:"success",title:"The service has been successfully "+(e.editedIndex>-1?"updated":"saved"),html:""}))}));case 3:case"end":return t.stop()}}),t)})))()},editItem:function(e){for(var t in this.editedIndex=this.data.data.indexOf(e),e)this.form[t]=e[t];this.dialog=!0},close:function(){for(var e in this.dialog=!1,this.form)this.form[e]="";this.editedIndex=-1}},computed:{formTitle:function(){return-1===this.editedIndex?"Add new ":"Update "}},watch:{page:function(e){this.page=e,this.getData()},data:function(){this.progressBar=!1},dialog:function(e){e||this.close()},menu:function(e){var t=this;e&&setTimeout((function(){return t.$refs.picker.activePicker="YEAR"}))}}},m=(a(242),a(4)),f=Object(m.a)(v,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-form",{ref:"mainForm",attrs:{id:"mainForm"}},[a("v-dialog",{attrs:{"max-width":"800px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",{staticStyle:{"background-color":"#dadcdc"},attrs:{id:"dialog"}},[a("v-toolbar",{attrs:{color:"primary",dark:""}},[e._v("\n          Services\n          "),a("v-spacer"),e._v(" "),a("v-icon",{staticClass:"float-right",attrs:{text:""},on:{click:function(t){e.dialog=!1}}},[e._v("mdi-close\n          ")])],1),e._v(" "),a("br"),e._v(" "),a("v-card-text",{staticStyle:{"background-color":"#dadcdc"}},[a("v-card",{staticClass:"p-2"},[a("v-container",[a("v-row",[a("v-col",{staticClass:"py-1",attrs:{cols:"12",md:"5"}},[a("v-card",{staticClass:"p-2 m-2",attrs:{width:"250",height:"250"}},[a("v-img",{attrs:{width:"230",contain:"",height:"230",src:e.form.picture?"https://walrus-app-tna7x.ondigitalocean.app/storage/files/vet/services/"+e.form.picture:"https://walrus-app-tna7x.ondigitalocean.app/img/Pets/a1.jpg"}}),e._v(" "),a("v-card-actions",[a("vue-dropzone",{ref:"myVueDropzonex",staticClass:"dropzonexx",attrs:{id:"training_fileuploadx",options:e.dropzoneOptionsPicture},on:{"vdropzone-success-multiple":e.uploadSuccessPicture,"vdropzone-queue-complete":e.uploadQueCompletePicture,"vdropzone-error":e.uploadErrorPicture}})],1),e._v(" "),a("br")],1),e._v(" "),a("v-text-field",{staticStyle:{display:"none"},attrs:{label:"Document"},model:{value:e.form.picture,callback:function(t){e.$set(e.form,"picture",t)},expression:"form.picture"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"7"}},[a("v-row",[a("v-col",{staticClass:"py-1",attrs:{cols:"12"}},[a("v-text-field",{attrs:{rules:e.formRules,outlined:"",dense:"","hide-details":"",label:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}},[a("template",{slot:"label"},[a("div",{staticStyle:{"font-size":"14px",color:"red"}},[e._v("Service Name *")])])],2)],1),e._v(" "),a("v-col",{staticClass:"py-1",attrs:{cols:"12"}},[a("v-textarea",{attrs:{outlined:"",dense:"",rows:"6","hide-details":"",label:""},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}},[a("template",{slot:"label"},[a("div",{staticStyle:{"font-size":"14px"}},[e._v("Service Description")])])],2)],1),e._v(" "),a("v-col",{staticClass:"py-1",attrs:{cols:"12"}},[a("v-text-field",{attrs:{outlined:"",dense:"","hide-details":"",label:""},model:{value:e.form.amount,callback:function(t){e.$set(e.form,"amount",t)},expression:"form.amount"}},[a("template",{slot:"label"},[a("div",{staticStyle:{"font-size":"14px"}},[e._v("Service Fee / Amount")])])],2)],1),e._v(" "),a("v-col",{staticClass:"py-1",attrs:{cols:"12"}},[a("v-text-field",{attrs:{outlined:"",dense:"","hide-details":"",label:""},model:{value:e.form.handled_by,callback:function(t){e.$set(e.form,"handled_by",t)},expression:"form.handled_by"}},[a("template",{slot:"label"},[a("div",{staticStyle:{"font-size":"14px"}},[e._v("Handle By")])])],2)],1)],1)],1)],1),e._v(" "),a("v-row",[a("v-col",[a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{staticStyle:{"text-transform":"none"},attrs:{color:"#00794b",depressed:"",dark:""},on:{click:e.store}},[e._v("\n                Save\n              ")])],1)],1)],1)],1)],1)],1)],1)],1)],1),e._v(" "),a("v-data-table",{attrs:{id:"table",dense:"",height:"330","hide-default-footer":"","items-per-page":10,loading:e.progressBar,headers:e.headers,items:e.data.data},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-card-actions",[a("v-btn",{staticStyle:{"text-transform":"none"},attrs:{color:"#00794b",depressed:"",dark:"",small:""},on:{click:function(t){e.dialog=!0}}},[e._v("\n          Add New\n        ")]),e._v(" "),a("v-spacer"),e._v(" "),a("v-text-field",{attrs:{small:"",outlined:"",dense:"","hide-details":"",label:"Search"},on:{keyup:e.getData},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),e._v(" "),a("v-btn",{staticStyle:{"text-transform":"none"},attrs:{color:"orange",depressed:"",text:"",small:"",dark:""},on:{click:e.getData}},[a("v-icon",[e._v("mdi-refresh")])],1)],1)]},proxy:!0},{key:"item.id",fn:function(t){var r=t.item;return[a("v-btn",{staticClass:"px-1 btn btn-primary text-white",attrs:{text:"",small:""},on:{click:function(t){return e.editItem(r)}}},[a("small",[a("v-icon",{attrs:{size:"15"}},[e._v(" mdi-pencil ")]),e._v(" Edit ")],1)])]}},{key:"item.name",fn:function(t){var r=t.item;return[e._v("\n\n      "+e._s(r.name)),a("br"),e._v(" "),a("small",[e._v(e._s(r.description))])]}}],null,!0)},[e._v(" "),a("v-progress-linear",{directives:[{name:"show",rawName:"v-show",value:e.progressBar,expression:"progressBar"}],attrs:{slot:"progress",color:"green",indeterminate:""},slot:"progress"})],1),e._v(" "),a("div",{staticClass:"pbutton text-center pt-7"},[a("v-pagination",{attrs:{"total-visible":10,length:e.data.last_page,color:"red darken-2"},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)],1)}),[],!1,null,null,null);t.default=f.exports}}]);