(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{34:function(t,e,a){"use strict";a.r(e);var s=a(0),r=a.n(s),n=a(2),o=a.n(n),i=a(1),c=a.n(i);function l(t,e,a,s,r,n,o){try{var i=t[n](o),c=i.value}catch(t){return void a(t)}i.done?e(c):Promise.resolve(c).then(s,r)}function u(t){return function(){var e=this,a=arguments;return new Promise((function(s,r){var n=t.apply(e,a);function o(t){l(n,s,r,o,i,"next",t)}function i(t){l(n,s,r,o,i,"throw",t)}o(void 0)}))}}var d={components:{rolespage:a(35).default},data:function(){return{page:1,search:"",group:"",list_groups:[],editedIndex:-1,formRules:[function(t){return!!t||"This is required"}],dialog:!1,dialogDelete:!1,progressBar:!0,deleteid:"",data:[],headers:[{class:"border",text:"Name",value:"name"},{class:"border",text:"Group",value:"group"},{class:"border",text:"Action",value:"id",sortable:!1}],form:{name:"",description:"",group:"",main:"1",active:1,id:""},sub_data:[],sub_dialog:!1,sub_headers:[{class:"border",text:"Name",value:"name"},{width:10,class:"border",text:"Status",value:"active"},{width:10,class:"border",text:"Action",value:"id",sortable:!1}],sub_form:{name:"",group:"",group_name:"",description:"",main:"0",id:""},dialogSettings:!1,refreshSettings:!1}},mounted:function(){this.getGroupList(),this.group="All",this.getData()},methods:{getGroupList:function(){var t=this;return u(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.list_groups.push({name:"All",id:"All"}),e.next=3,o.a.get("/api/settings/general/group/list").then((function(e){for(var a in e.data)t.list_groups.push({name:e.data[a].group,id:e.data[a].group})}));case 3:case"end":return e.stop()}}),e)})))()},getData:function(){var t=this;return u(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.progressBar=!0,e.next=3,o.a.get("/api/settings/general/list",{params:{page:t.page,search:t.search,group:t.group}}).then((function(e){t.data=e.data,t.progressBar=!1}));case 3:case"end":return e.stop()}}),e)})))()},store:function(){var t=this;return u(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.$refs.mainForm.validate()){e.next=3;break}return e.next=3,c.a.fire({title:"Do you want to "+(t.editedIndex>-1?"save":"update")+" this category?",icon:"question",showCancelButton:!0,confirmButtonColor:"#00794b",cancelButtonColor:"#CC0022",confirmButtonText:"Yes",cancelButtonText:"No",showLoaderOnConfirm:!0,preConfirm:function(){var e=u(r.a.mark((function e(){var a,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.form.main=1,e.next=3,o.a.post("/api/settings/general/store",t.form);case 3:return a=e.sent,s=a.data,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),allowOutsideClick:function(){return!c.a.isLoading()}}).then((function(e){e.value&&(t.editedIndex>-1?(console.log(e.value),Object.assign(t.data.data[t.editedIndex],e.value)):t.data.data.push(e.value),t.getGroupList(),t.close(),c.a.fire({icon:"success",title:"The category has been successfully "+(t.editedIndex>-1?"updated":"saved"),html:""}))}));case 3:case"end":return e.stop()}}),e)})))()},editItem:function(t){for(var e in this.editedIndex=this.data.data.indexOf(t),t)this.form[e]=t[e];this.dialog=!0},close:function(){for(var t in this.dialog=!1,this.form)this.form[t]="";this.editedIndex=-1},sub_addCategory:function(t){this.sub_close(),this.sub_dialog=!0,this.sub_form.group=t.id,this.sub_form.group_name=t.name,this.sub_form.description=t.group,this.sub_getData()},sub_getData:function(){var t=this;return u(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.progressBar=!0,e.next=3,o.a.get("/api/settings/general/sub/list",{params:{group:t.sub_form.group}}).then((function(e){t.sub_data=e.data,t.progressBar=!1}));case 3:case"end":return e.stop()}}),e)})))()},sub_store:function(){var t=this;return u(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.$refs.subForm.validate()){e.next=3;break}return e.next=3,c.a.fire({title:"Do you want to "+(t.editedIndex>-1?"save":"update")+" this sub category?",icon:"question",showCancelButton:!0,confirmButtonColor:"#00794b",cancelButtonColor:"#CC0022",confirmButtonText:"Yes",cancelButtonText:"No",showLoaderOnConfirm:!0,preConfirm:function(){var e=u(r.a.mark((function e(){var a,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.sub_form.main=0,e.next=3,o.a.post("/api/settings/general/store",t.sub_form);case 3:return a=e.sent,s=a.data,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),allowOutsideClick:function(){return!c.a.isLoading()}}).then((function(e){e.value&&(t.editedIndex>-1?Object.assign(t.sub_data[t.editedIndex],e.value):t.sub_data.push(e.value),t.sub_close(),c.a.fire({icon:"success",title:"The category has been successfully "+(t.editedIndex>-1?"updated":"saved"),html:""}))}));case 3:case"end":return e.stop()}}),e)})))()},sub_editItem:function(t){for(var e in this.editedIndex=this.sub_data.indexOf(t),t)this.sub_form[e]=t[e];this.sub_dialog=!0},sub_ActiveItem:function(t,e){var a=this;return u(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.fire({title:"Do you want to "+(1==a.status?"Inactive ":"Active ")+t.name+"?",icon:"question",showCancelButton:!0,confirmButtonColor:"#00794b",cancelButtonColor:"#CC0022",confirmButtonText:"Yes",cancelButtonText:"No",showLoaderOnConfirm:!0,preConfirm:function(){var e=u(r.a.mark((function e(){var s,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.sub_form.main=0,e.next=3,o.a.post("/api/settings/general/active",t);case 3:return s=e.sent,n=s.data,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),allowOutsideClick:function(){return!c.a.isLoading()}}).then((function(t){t.value&&c.a.fire({icon:"success",title:"The category has been successfully "+(a.editedIndex>-1?"updated":"saved"),html:""}),a.sub_getData()}));case 2:case"end":return e.stop()}}),e)})))()},sub_close:function(){this.sub_form.name="",this.sub_form.id="",this.editedIndex=-1},addRole:function(){var t=this;this.dialogSettings=!0,this.refreshSettings=!1,this.$nextTick((function(){t.refreshSettings=!0}))}},computed:{formTitle:function(){return-1===this.editedIndex?"Add new ":"Update "}},watch:{page:function(t){this.page=t,this.getData()},data:function(){this.progressBar=!1},dialog:function(t){t||this.close()},menu:function(t){var e=this;t&&setTimeout((function(){return e.$refs.picker.activePicker="YEAR"}))}}},v=a(4),f=Object(v.a)(d,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-form",{ref:"mainForm",attrs:{id:"mainForm"}},[a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",{staticStyle:{"background-color":"#dadcdc"},attrs:{id:"dialog"}},[a("v-toolbar",{attrs:{color:"primary",dark:""}},[t._v("\n          List\n          "),a("v-spacer"),t._v(" "),a("v-icon",{staticClass:"float-right",attrs:{text:""},on:{click:function(e){t.dialog=!1}}},[t._v("mdi-close\n          ")])],1),t._v(" "),a("br"),t._v(" "),a("v-card-text",{staticStyle:{"background-color":"#dadcdc"}},[a("v-card",{staticClass:"p-2"},[a("v-container",[a("v-row",[a("v-col",{staticClass:"py-1",attrs:{cols:"12",xl:"12",lg:"12",sm:"12",md:"4"}},[a("v-text-field",{attrs:{rules:t.formRules,outlined:"",dense:"","hide-details":"",label:""},model:{value:t.form.group,callback:function(e){t.$set(t.form,"group",e)},expression:"form.group"}},[a("template",{slot:"label"},[a("div",{staticStyle:{"font-size":"14px",color:"red"}},[t._v("Group *")])])],2)],1),t._v(" "),a("v-col",{staticClass:"py-1",attrs:{cols:"12",xl:"12",lg:"12",sm:"12",md:"4"}},[a("v-text-field",{attrs:{rules:t.formRules,outlined:"",dense:"","hide-details":"",label:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},[a("template",{slot:"label"},[a("div",{staticStyle:{"font-size":"14px",color:"red"}},[t._v("Name *")])])],2)],1),t._v(" "),a("v-col",{staticClass:"py-1",attrs:{cols:"12",xl:"12",lg:"12",sm:"12",md:"4"}},[a("v-textarea",{attrs:{outlined:"",dense:"","hide-details":"",label:"Description",rows:"3"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1)],1)],1),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{staticStyle:{"text-transform":"none"},attrs:{color:"#00794b",depressed:"",dark:""},on:{click:t.store}},[t._v("\n                Save\n              ")])],1)],1)],1)],1)],1)],1),t._v(" "),a("v-form",{ref:"subForm",attrs:{id:"subForm"}},[a("v-dialog",{attrs:{"max-width":"700px"},model:{value:t.sub_dialog,callback:function(e){t.sub_dialog=e},expression:"sub_dialog"}},[a("v-card",{staticStyle:{"background-color":"#dadcdc"},attrs:{id:"dialog"}},[a("v-toolbar",{attrs:{color:"primary",dark:""}},[t._v("\n          Sub Category\n          "),a("v-spacer"),t._v(" "),a("v-icon",{staticClass:"float-right",attrs:{text:""},on:{click:function(e){t.sub_dialog=!1}}},[t._v("mdi-close\n          ")])],1),t._v(" "),a("br"),t._v(" "),a("v-card-text",{staticStyle:{"background-color":"#dadcdc"}},[a("v-card",{staticClass:"p-4"},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-row",[a("v-col",{staticClass:"py-1",attrs:{cols:"12"}},[a("v-text-field",{attrs:{rules:t.formRules,dense:"",disabled:"","hide-details":"",label:""},model:{value:t.sub_form.group_name,callback:function(e){t.$set(t.sub_form,"group_name",e)},expression:"sub_form.group_name"}},[a("template",{slot:"label"},[a("div",{staticStyle:{"font-size":"14px"}},[t._v("Group")])])],2)],1),t._v(" "),a("v-col",{staticClass:"py-1",attrs:{cols:"12",xl:"12",lg:"12"}},[a("v-text-field",{attrs:{rules:t.formRules,outlined:"",dense:"","hide-details":"",label:""},model:{value:t.sub_form.name,callback:function(e){t.$set(t.sub_form,"name",e)},expression:"sub_form.name"}},[a("template",{slot:"label"},[a("div",{staticStyle:{"font-size":"14px",color:"red"}},[t._v("\n                            Name *\n                          ")])])],2),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{staticStyle:{"text-transform":"none"},attrs:{color:"#00794b",small:"",depressed:"",dark:""},on:{click:t.sub_store}},[t.sub_form.id?a("div",[a("v-icon",[t._v("mdi-content-save-all")]),t._v(" Update")],1):a("div",[a("v-icon",[t._v("mdi-content-save-settings")]),t._v(" Save")],1)]),t._v(" "),a("v-btn",{staticClass:"text-dark",staticStyle:{"text-transform":"none"},attrs:{color:"warning",depressed:"",small:""},on:{click:function(e){t.sub_getData(),t.sub_close()}}},[a("v-icon",[t._v("mdi-refresh")]),t._v(" Refresh / New")],1)],1)],1)],1),t._v(" "),a("v-row",[a("v-col",{attrs:{cols:""}},[a("v-data-table",{attrs:{dense:"",height:"200",loading:t.progressBar,headers:t.sub_headers,items:t.sub_data},scopedSlots:t._u([{key:"item.active",fn:function(e){var s=e.item;return[a("v-switch",{staticClass:"m-0",attrs:{dense:"",small:"","hide-details":"",inset:"",value:1},on:{click:function(e){return t.sub_ActiveItem(s,s.active)}},model:{value:s.active,callback:function(e){t.$set(s,"active",e)},expression:"item.active"}})]}},{key:"item.id",fn:function(e){var s=e.item;return[a("v-btn",{staticClass:"px-1 btn btn-primary text-white",attrs:{text:"",small:""},on:{click:function(e){return t.sub_editItem(s)}}},[a("small",[a("v-icon",{attrs:{size:"15"}},[t._v(" mdi-pencil ")]),t._v(" Edit\n                          ")],1)])]}}],null,!0)})],1)],1)],1)],1)],1)],1)],1)],1)],1),t._v(" "),a("v-data-table",{attrs:{id:"table",dense:"",height:"330","hide-default-footer":"","items-per-page":10,loading:t.progressBar,headers:t.headers,items:t.data.data},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-card-actions",[a("v-btn",{staticStyle:{"text-transform":"none"},attrs:{color:"#00794b",depressed:"",dark:"",small:""},on:{click:function(e){t.dialog=!0}}},[t._v("\n            Add new\n        ")]),t._v(" "),a("v-btn",{staticStyle:{"text-transform":"none"},attrs:{color:"#60829e",depressed:"",dark:"",small:""},on:{click:t.addRole}},[a("v-icon",[t._v("mdi-settings")]),t._v(" Settings\n        ")],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-col",{staticClass:"py-0 pl-0",attrs:{xl:"4",lg:"4",cols:"12"}},[a("v-text-field",{attrs:{small:"",outlined:"",dense:"","hide-details":"",label:"Search"},on:{keyup:t.getData},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-btn",{staticStyle:{"text-transform":"none"},attrs:{color:"orange",depressed:"",small:"",text:"",dark:""},on:{click:t.getData}},[a("v-icon",[t._v("mdi-refresh")])],1)],1)]},proxy:!0},{key:"item.id",fn:function(e){var s=e.item;return[a("v-btn",{staticClass:"px-1 btn-success text-white",attrs:{text:"",small:""},on:{click:function(e){return t.sub_addCategory(s)}}},[a("small",[a("v-icon",{attrs:{size:"15"}},[t._v(" mdi-plus ")]),t._v(" Sub List ")],1)]),t._v(" "),a("v-btn",{staticClass:"px-1 btn btn-primary text-white",attrs:{text:"",small:""},on:{click:function(e){return t.editItem(s)}}},[a("small",[a("v-icon",{attrs:{size:"15"}},[t._v(" mdi-pencil ")]),t._v(" Edit ")],1)])]}}],null,!0)},[t._v(" "),a("v-progress-linear",{directives:[{name:"show",rawName:"v-show",value:t.progressBar,expression:"progressBar"}],attrs:{slot:"progress",color:"green",indeterminate:""},slot:"progress"})],1),t._v(" "),a("div",{staticClass:"pbutton text-center pt-7"},[a("v-pagination",{attrs:{"total-visible":10,length:t.data.last_page,color:"red darken-2"},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"700px"},model:{value:t.dialogSettings,callback:function(e){t.dialogSettings=e},expression:"dialogSettings"}},[a("v-card",{staticStyle:{"background-color":"#dadcdc"},attrs:{id:"dialog"}},[a("v-toolbar",{attrs:{color:"primary",dark:""}},[t._v("\n        Roles\n        "),a("v-spacer"),t._v(" "),a("v-icon",{staticClass:"float-right",attrs:{text:""},on:{click:function(e){t.dialogSettings=!1}}},[t._v("mdi-close ")])],1),t._v(" "),a("v-card",{staticClass:"p-1"},[t.refreshSettings?a("rolespage"):t._e()],1)],1)],1)],1)}),[],!1,null,null,null);e.default=f.exports}}]);